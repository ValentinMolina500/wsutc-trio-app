<Page id="page" loaded="onLoaded">
    <ActionBar class="action-bar" title="Stassia Feltes">
        <GridLayout rows="auto" columns="auto, auto, *">
            <Label tap="goBack" class="far" text="&#xf060;" fontSize="20" verticalAlignment="middle" />
            <Image tap="goBack" col="1" marginLeft="8" horizontalAlignment="left" borderRadius="100%" stretch="aspectFill" height="35" width="35" src="~/imgs/stassia.jpg" />
            <Label col="2" marginLeft="8" fontSize="20" verticalAlignment="middle" text="Stassia Feltes" />
        </GridLayout>
    </ActionBar>

    <GridLayout height="100%" width="100%" rows="*, auto" columns="*">
        
        <ListView margin="8" width="100%" id="feed" items="{{ messages }}" itemTemplateSelector="messageSelector">
            <ListView.itemTemplates>

                <!-- <StackLayout>
                    <GridLayout rows="auto" columns="*, 64">

                        <GridLayout borderRadius="4" rows="auto, auto" margin="8 16 4 16" columns="*, auto" backgroundColor="white">
                            <Label class="message-text" color="black" colSpan="2" textWrap="true" margin="8 8 4 8" text="{{ message }}" />
                            <Label text="12:17 PM" row="1" col="1" padding="0 4 4 4" horizontalAlignment="right" verticalAlignment="bottom" fontSize="12" />
                        </GridLayout>
                    </GridLayout>

                </StackLayout> -->
                <template key="recieved">
                    <StackLayout width="100%">
                        <GridLayout columns="*, 96">
                            <StackLayout class="msg-container recieved">
                                <Label class="message-recieved" text="{{ message }}" />
                            </StackLayout>
                        </GridLayout>
                    </StackLayout>
                </template>
                <template key="sent">
                    <StackLayout>
                        <GridLayout columns="96, *">
                            <StackLayout class="msg-container" col="1">
                                <Label class="message-recieved" text="{{ message }}" />
                            </StackLayout>
                        </GridLayout>
                    </StackLayout>
                </template>
            </ListView.itemTemplates>
        </ListView>
        <GridLayout row="1" columns="*, auto">
            <TextField id="message-input" text="{{ currentMessage }}" col="0"/>
            <Button tap="{{ sendMessage }}" id="send-button" col="1" class="fas" text="&#xf1d8;"/>

        </GridLayout>


    </GridLayout>
</Page>