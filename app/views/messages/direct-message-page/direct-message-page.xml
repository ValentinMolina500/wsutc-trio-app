<Page id="page" navigatedTo="onNavigatedTo">
    <ActionBar class="action-bar" title="Stassia Feltes">
        <GridLayout rows="auto" columns="auto, auto, *" tap="goBack">
            <Label tap="goBack" class="far" text="&#xf060;" fontSize="20" verticalAlignment="middle" />
            <Image tap="goBack" col="1" marginLeft="8" horizontalAlignment="left" borderRadius="100%" stretch="aspectFill" height="35" width="35" src="~/imgs/stassia.jpg" />
            <Label col="2" marginLeft="8" fontSize="20" verticalAlignment="middle" text="Stassia Feltes" />
        </GridLayout>
    </ActionBar>
    <ScrollView verticalAlignment="bottom">
        <GridLayout rows="*,auto" columns="*,50" height="100%">
            <ListView row="0" colSpan="2" margin="8" separatorColor="transparent" width="100%" id="feed" items="{{ messages }}" itemTemplateSelector="messageSelector">
                <ListView.itemTemplates>
                    <!-- <StackLayout>
                    <GridLayout rows="auto" columns="*, 64">

                        <GridLayout borderRadius="4" rows="auto, auto" margin="8 16 4 16" columns="*, auto" backgroundColor="white">
                            <Label class="message-text" color="black" colSpan="2" textWrap="true" margin="8 8 4 8" text="{{ message }}" />
                            <Label text="12:17 PM" row="1" col="1" padding="0 4 4 4" horizontalAlignment="right" verticalAlignment="bottom" fontSize="12" />
                        </GridLayout>
                    </GridLayout>
<Label class="" horizontalAlignment="{{type=='recieved'?'right':'left'}}" width="40%" text="{{ message }}" />
                </StackLayout> -->
                    <template key="recieved">
                        <Label class="msg-container recieved" text="{{ message }}" textWrap="true" />
                    </template>
                    <template key="sent">
                        <Label class="msg-container send" text="{{ message }}" textWrap="true" />
                    </template>
                </ListView.itemTemplates>
            </ListView>
            <TextField row="1" col="0" id="message-input" text="{{ currentMessage }}" col="0" />
            <Button row="1" col="1" tap="{{ sendMessage }}" id="send-button" horizontalAlignment="right" class="fas" text="&#xf1d8;" />
        </GridLayout>
    </ScrollView>
</Page>
